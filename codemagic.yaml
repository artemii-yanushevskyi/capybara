workflows:
  default-workflow:
    name: Default Workflow
    max_build_duration: 60
    environment:
      vars:
        APP_STORE_CONNECT_ISSUER_ID: 7d812fe2-8abd-47ca-9d27-3ed7e62d7b6d
        APP_STORE_CONNECT_KEY_IDENTIFIER: 4X5V82JUU5
        APP_STORE_CONNECT_PRIVATE_KEY: Encrypted(Z0FBQUFBQmd3ZVpuRTZUaFoxTkhOeWlkcE4zVGttc3JWTUhZdGhoMEhqY1A5TnJvVkhBVUU4QjA0WnJEeV9adklreDQyS3VEbmlCRVFncF9lSE9zYkNsTVRLN3ZNZjdZNXJHa2c3RFZIeS1tNEVtVWxzVDJ5RkRWaDhpbGstdWVCbmJCX2dsNWlDdnZNZWxseDIwZXpRMjE4bnoxbUlnOFVjWjVCeU10b1R3UDUyVUZQWTBJbHp5aW5UN0xLNUxxREoxcE9Ta0dhZ3piQjVRWnFVaGtrMjBsdlR6VUQwb210QXFkNkVpSGZXa3RaVUd1cGE3TGNOVmxZTUxpdnBsY0RjbjFXM3lyV2Zkd00tbDlRXzZnWU5fMzd3UDBoek1UZ3FnYlpsZ0U0ZDRKZnhRalRwVGxUZzFNZjU5N2hqejNVTVFudEFOLUYtVlBOZ2haUjN6NHpIMkc1b3pPWWpoeTBMZTc0Z0NsNG5CUTdVdGY5UW5JZnRWc0hnR1NBeU5BcU15eC1mWWl0dFJ4TXlieXhvNi1DOGhCaElVdW9hTXQ1MmtfZEwwVXJEeDlSelpnUXFOUURCYz0=)
        CERTIFICATE_PRIVATE_KEY: Encrypted(Z0FBQUFBQmd3aXAtVEZYMW05MHdrdk40dHdnRzh1OVZYcTdXeXZpSlZ5SFpPV3NoVVo5ejljN00tbFR2MVgxcm5HZ1ZxM3hIN0xiZXZXd1lTbVFoMDRhMlExenR3WFJvaVlOV3BtdDBoa2RNZG1xVXB5c1BkbEo1QmdfQ1Bvdm44VVFzX0FDd1hKRHVSVGRhVHFzQllHWVM5anpXS1J6aVZBUVhZeTJPUTJHb3Q4NWJKQjVvSFAyNU9JalI5RHU2YlI2aWJPR2p0bmhGVDVlYk94U2FMc0x2blNKWE9Razd5ZExtZXRqckFGd2RqcWhwR3JKdm8tYk1Vc1dOUWRnSzVpcnYxNTFJX3dGU3B2U3lmMjVLZ2dFVVFIVEdIQnlsOGxYYkFadmgtUUdCaVE5Vkd5aE51SFhGTWJnMnE4ckQxMzhnV3FkOFFtU21nNFlRNVF4OHZnQXVCWFRvOW0wOW1NbUhfc2JpVGpyT1dIVVBhVzg1cGM0NFdSUER4NXZmREdUdU9xZjFyamRBRzVkT2kydTNWMld0ODRPaDdXRFJuR1ZzZndiRGtwUTg3bnJ4cDFVeE1uZmxNSVJRTEl3UFBHcklCSmNUc2huNDNTdDhzQzJhXzZxSm16cUFKMk5RdEk5THBSZDhHNkFsMHpqLU81dG9pbWxiOUhDWm5JT3N3M1VrT0ZILUs4NFFRWmVEazhyWWxWWXJ1a0Z5cGkzYnhqM1V6cnYwOElRNElpNDFuZWM2aTdWck44SEx1ZV94RjZfa0RkaEItTTBaWGt6c1JoOF9iWjNKX19NcWYwamRDSTNjOWxQMERhc1BHQnpDMzlUVWxzMURDZ1NpOTl5NERwUWpybkZWYnNqZTQ5TnBCY0xLQ2xqOHpSVlJWS3BtOFJMY3FxSEdGcVpOMTk0VGdzWk5oSXFhNUdlMVhLV3lDSE84a2lkeHZvc3lDMUgwZ0l0bjltd2k0YzhpYXJ1bElXNXN1LV9xeTN3dGlvaGVKMG1NTnFhRG5nZ2w2NnNqQ1dUM2dkZmhYOWdzZVVDdS1ZbUYwVkphNGFuUXFPZ2Z6NUhteWtZZUlxc3ppTmpZQVBOeVF0YXdzNjlzNjlrV1pXQlpDazJzOVVmRnBteGFVSllLNWdXWGpVUE5fb09kM3ZpVTFTVkRzaW1CTjZITWpUdXRCbmo5VWZPTVFuN0hJMFVIaUVDWEpHMTlDazVha2lOVnN2WUZiOFRRY0ZSQ2FUYkhreGp5SGE1dzM4U2otTl9hM1NOM2JqZlo1T0piTjdUeC1PcFFQb1owSXl5dVJuVXRRbmVxQVFPb2tOUlMzYUQ3b0N2WFVOVkhYVmpLeGdJN21lZXRxUUZabEJmMWItM21RdURaT2tpa3V5enNKS3V6YnQzNkpNWVFaSTFvRGFJMnhWMDh1SUwtTFBRQzBTZjQtb3FJalk2RnQ0RFRYSG9zZ0doV0U1dDJ3VVNJTWRvM05FMmJ3dEJnbmtVSENiMkozdlBjZE5sS0FVOGhqNjRNU1hyMW1CZ25jVkZ4SGRVQTh5U3JGdlpoSTloeTR1ZEdKeGMzbEoya0V4R2l1czVNUEVMR3FOd3B1QnVSNEZvel8ycHptTmJDbXVOWmRlaGhxUlB6VVhYYnYxS1ZuVGx5M1NfUzkzdjJHZU9kaS1jajJjTlVSTTZHS2NkeWU0M2huT2gyTVdsVWlmR0hXSmFCbjBDN0xHX1dXNEpHLXJFTUFTVF9YTjNWQUNKcDBaUEw5dkIxb1FrS295REJGaWhaZzBram96cU9zWUhqVVd1U2lzbHZIV1FNVmVsVXY2ZURoY05La0phcE1jMF91QTdwaFh3SjZCZEZGd3A2dVJfQXBpaTRQM3h1c1R1bXkza19uS1VfUE4xWXdzNEVXSTItX2FOcEFucjJIeWVMZlpIZFJKVHRpZ2lUSUVYaFN1YnZaWEhNZjE1b3c0TGJuYWwxbHFYSmFvVUdfOHRkeUR3dFBtUzdUYUVkckdvR2NaUVpiOVRmTlBLejF3cW8zUzBzaENyS3AxTGFScHlWdWpOVUMtQ25DaUxCSjk0TFBMd1kxOGZ3VWdXTElwNEM0SE9yRTV4NHAtOXBEUE5rbExaTXZtWW8zcjlwRjhiS2o3bGkwdXdtdWgyUXlEbllDcnBUaDVuQ2tfOWY0WmF1dUpwYlpHS2RwVVBOZzlEVU5BZVRUWDdySE42VHk0SHBBSE9KVVNKQmJveTNWa1FBUGZRQm9IWHNxdVQyTWZDRkhyUHZtUnJUaU1ub2lsUlZhQnlxN1FqcGkzNkFqMHFuSG0tOVhhcENzR3dNc1d0Y21wTlFZQWJzVkpYN2docXNXV3NqeDNCT01sSWJkUGRUVU44QzltcC1ldi0tS0I1VTNwQWZIUmtKdXVhcTEzd1kyV2p0N3VEWHI3N3pkVU15dGNWX0JhRnFaTEZmY19ZaUViZEtnZmVWVDNNdW9sb3FOemdES0tnN2FtM0F4akEybW1oTHVlVXJMd1Q5U0Z6eVBJR3JlNjlfUG1LUG92TkNNQ3VXeG5SS2s5aUs0bkg4WWlJU2h0RkxTZnlGcjlWM2lMT0xfbzVRZndGSWxuOXFLdjVsZHJjMmc1ak5ZQ0pIUmhDa0VGY3hDTEdDaWlQR0lNbzN0dms2S3dYMXZYdGtKTUQ0VklFYnlJbjQ0R2JiQlk1OEk1YW9HcVhIY3FYeFN6TjJuS3JzX2FvNnFOeHBmZEhMVjYyM0pOZThpQ3g0ajZLWHZwWFFqS3FtcHFBZnFBYVRlYWhwaHgyc0ktenMyX1liODhfOE1oOW13bmxDaEd6UE0xV0Y0VG5vMmhqUk1HZUJTQ08tRTRha1l4MUk4eTFNLXBhSXRlVlNOeTY0UTZMOHZMTUw1Y3gtXzVfVzBLOG9fM2lKVGhXTXJOTDQ3bXdYTE12eENZbDBBLUl0RFV5dlBwcWR5MU96S29OdmUzRllHclhfcWFrVUZHNzlJRkFDU19IS1p5Vlh2Q25ncGdtTjhmZjhQaXBKUVV5YmxMZVlfenF6dmNzamJuLXBody1USk5FUkJTVlIyaDVoVVpFbG5wRndmaFVj)
      flutter: stable
      xcode: 12.4
      cocoapods: default
    scripts:
      - flutter packages pub get
      - find . -name "Podfile" -execdir pod install \;
      - keychain initialize
      - app-store-connect fetch-signing-files "io.codemagic.capybara" --type IOS_APP_STORE --create
      - keychain add-certificates
      - xcode-project use-profiles
      - flutter build ipa --export-options-plist=/Users/builder/export_options.plist
    artifacts:
      - build/ios/ipa/*.ipa
      - /tmp/xcodebuild_logs/*.log
      - flutter_drive.log
    # publishing:
    #   app_store_connect:
    #     api_key: $APP_STORE_CONNECT_PRIVATE_KEY
    #     key_id: $APP_STORE_CONNECT_KEY_IDENTIFIER
    #     issuer_id: $APP_STORE_CONNECT_ISSUER_ID
    #     submit_to_testflight: true
    #     beta_groups:
    #       - Codemagic CLI Tools test
    #       - App Store Connect Users # non-breakable space
    #       - App Store Connect Users # non-breakable space
    #       - App Store Connect Users # breakable space
    #       - test
    #       - testX
